From d28af95ce572007f1ec71d47d0d7edf9ac6f76ce Mon Sep 17 00:00:00 2001
From: Edwina Mead <meade@google.com>
Date: Mon, 23 Apr 2012 12:54:43 +1000
Subject: [PATCH 4/4] fix issue where only the first calendar was listed.

---
 genfiles/closure-gen/dashboard.js |    2 +-
 javascript/dashboard/dashboard.js |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/genfiles/closure-gen/dashboard.js b/genfiles/closure-gen/dashboard.js
index 67099ae..9d97acd 100644
--- a/genfiles/closure-gen/dashboard.js
+++ b/genfiles/closure-gen/dashboard.js
@@ -39012,7 +39012,7 @@ calendarmailer.dashboard.App.prototype.handleCalendarResult_ = function(
       }).firstChild.firstChild);
   var keys = goog.object.getKeys(this.calendarIds_);
   var index = goog.array.indexOf(keys, result.id);
-  if (++index < this.calendarIds_.length) {
+  if (++index < keys.length) {
     this.calendar_.getCalendarSummary(keys[index],
         goog.bind(this.handleCalendarResult_, this));
   }
diff --git a/javascript/dashboard/dashboard.js b/javascript/dashboard/dashboard.js
index f385c58..52d9751 100644
--- a/javascript/dashboard/dashboard.js
+++ b/javascript/dashboard/dashboard.js
@@ -289,7 +289,7 @@ calendarmailer.dashboard.App.prototype.handleCalendarResult_ = function(
       }).firstChild.firstChild);
   var keys = goog.object.getKeys(this.calendarIds_);
   var index = goog.array.indexOf(keys, result.id);
-  if (++index < this.calendarIds_.length) {
+  if (++index < keys.length) {
     this.calendar_.getCalendarSummary(keys[index],
         goog.bind(this.handleCalendarResult_, this));
   }
-- 
1.7.7.3

